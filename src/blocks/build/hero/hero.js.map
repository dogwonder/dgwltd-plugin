{"version":3,"file":"hero/hero.js","mappings":"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","sources":["webpack://dgwltd/./src/blocks/src/hero/hero.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\n\n  let priorFocus;\n  let modalTriggers = document.querySelectorAll('[data-popup-trigger]');\n\n  if (!modalTriggers) return;\n\n  modalTriggers.forEach(trigger => {\n    \n    trigger.addEventListener('click', function(){\n\n      //Get current modal \n      //Get data-popup-trigger value\n      let modalID = trigger.getAttribute('data-popup-trigger');\n      \n      //Get modal element\n      //Find modal with data-popup-modal value that matches data-popup-trigger value\n      let modal = document.querySelector('[data-popup-modal=\"' + modalID + '\"]');    \n\n      //Only open the currently modal with the same data-popup-trigger value\n      openModal(modal);\t\n\n    });\n\n  });\n\n  //If click on document body and is not button or modal or modal children, close modal\n  document.body.addEventListener('click', function(e) {\n\n      //Get current modal\n      let modal = document.querySelector('.popup-modal.is--visible');\n      //If click on .modal but not .modal__dialog close modal\n      if ( modal && !modal.contains(e.target) && !e.target.matches('[data-popup-trigger]') ) {\n        closeModal(modal);\n      }\n\n      \n  });\n  \n  function openModal(modal) {\n\n    // Track the element (likely a button) that had focus before we open the modal.\n    priorFocus = document.activeElement;\n    var modalClose = modal.querySelector('.popup-modal__close');\n\n    // Set up the event listeners we need for the modal\n    modal.addEventListener(\"keydown\", keydownEvent);\n    modalClose.addEventListener('click', function(){\n      closeModal(modal);\n    });\n\n    // Find all focusable children\n    var focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\n    var focusableElements = modal.querySelectorAll(focusableElementsString);\n    focusableElements = Array.prototype.slice.call(focusableElements);\n\n    var firstTabStop = focusableElements[0];\n    var lastTabStop = focusableElements[focusableElements.length - 1];\n\n    // Show the modal and overlay\n    modal.classList.add('is--visible');\n\t  document.body.classList.add('is-blacked-out');\n\n    firstTabStop.focus();\n\n    function keydownEvent(e) {\n\n      // Escape key should close the modal\n      if ( e.keyCode === 27 ) {\n        closeModal(modal);\n      }\n\n      // Tab key check for first or last tab stop\n      if (e.keyCode === 9) {\n\n        // Tab + Shift (reverse tabbing)\n        if (e.shiftKey) {\n          if (document.activeElement === firstTabStop) {\n            e.preventDefault();\n            lastTabStop.focus();\n          }\n        } else {\n          if (document.activeElement === lastTabStop) {\n            e.preventDefault();\n            firstTabStop.focus();\n          }\n        }\n      }\n\n    }\n\n  }\n\n  function closeModal(modal) {\n\n    //Get data-popup-type value\n    let videoType = modal.getAttribute('data-popup-type');\n\n  \tif ( videoType == 'vimeo' ) {\n        //Stop vimeo if playing\n        var vimeo_player = modal.querySelector('#vimeo_player');\n        vimeo_player.contentWindow.postMessage('{\"method\":\"pause\"}', '*');\n    }\n    if ( videoType == 'youtube' ) {\n        //Stop youtube if playing\n\t    var youtube_player = modal.querySelector('#youtube_player');\n\t    youtube_player.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"stopVideo\",\"args\":\"\"}', '*');\n    }\n\n    // Hide the modal and overlay\n    modal.classList.remove('is--visible');\n\t  document.body.classList.remove('is-blacked-out');\n\n    // Set focus back to element that had it before the modal was opened\n    priorFocus.focus();\n\t\n  }\n\n});\n"],"names":["document","addEventListener","priorFocus","modalTriggers","querySelectorAll","forEach","trigger","modalID","getAttribute","modal","querySelector","openModal","body","e","contains","target","matches","closeModal","activeElement","modalClose","keydownEvent","focusableElementsString","focusableElements","Array","prototype","slice","call","firstTabStop","lastTabStop","length","classList","add","focus","keyCode","shiftKey","preventDefault","videoType","vimeo_player","contentWindow","postMessage","youtube_player","remove"],"sourceRoot":""}