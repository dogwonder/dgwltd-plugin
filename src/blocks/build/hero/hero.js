document.addEventListener("DOMContentLoaded",(function(){let e,t=document.querySelectorAll("[data-popup-trigger]");function o(t){let o=t.getAttribute("data-popup-type");"vimeo"==o&&t.querySelector("#vimeo_player").contentWindow.postMessage('{"method":"pause"}',"*"),"youtube"==o&&t.querySelector("#youtube_player").contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"),t.classList.remove("is--visible"),document.body.classList.remove("is-blacked-out"),e.focus()}t&&(t.forEach((t=>{t.addEventListener("click",(function(){let n=t.getAttribute("data-popup-trigger");!function(t){e=document.activeElement;var n=t.querySelector(".popup-modal__close");t.addEventListener("keydown",(function(e){27===e.keyCode&&o(t),9===e.keyCode&&(e.shiftKey?document.activeElement===d&&(e.preventDefault(),c.focus()):document.activeElement===c&&(e.preventDefault(),d.focus()))})),n.addEventListener("click",(function(){o(t)}));var a=t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]'),d=(a=Array.prototype.slice.call(a))[0],c=a[a.length-1];t.classList.add("is--visible"),document.body.classList.add("is-blacked-out"),d.focus()}(document.querySelector('[data-popup-modal="'+n+'"]'))}))})),document.body.addEventListener("click",(function(e){let t=document.querySelector(".popup-modal.is--visible");!t||t.contains(e.target)||e.target.matches("[data-popup-trigger]")||o(t)})))}));