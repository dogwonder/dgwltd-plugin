!function(){"use strict";const{subscribe:e,select:t,dispatch:o}=wp.data,n=(e,t)=>{let o;return function(...n){clearTimeout(o),o=setTimeout(()=>e.apply(this,n),t)}};let c=null;const a=(e,t)=>{const o=document.querySelector(".focus-dot");o&&(o.style.left=`${e}%`,o.style.top=`${t}%`)},i=()=>{e(()=>{const e=t("core/block-editor").getSelectedBlock();if(!e||"acf/dgwltd-hero"!==e.name){const e=document.querySelector(".focus-dot");return e&&(e.style.display="none"),void(c=null)}e.clientId!==c&&(c=e.clientId,(e=>{const{clientId:t,attributes:c}=e,{background_image:i,focal_point_x:d=50,focal_point_y:l=50}=c?.data||{};i?setTimeout(()=>{const e=document.querySelector('.acf-field-image[data-name="background_image"] .image-wrap'),i=e?.querySelector("img");if(!e||!i)return;let u=e.querySelector(".focus-dot");if(u||(u=document.createElement("div"),u.className="focus-dot",e.appendChild(u)),u.style.display="block",a(d,l),"true"===i.dataset.focusAttached)return;const r=n(e=>{const n=i.getBoundingClientRect(),d=(e.clientX-n.left)/n.width*100,l=(e.clientY-n.top)/n.height*100;a(d,l),((e,t,n,c)=>{const a=Number(n),i=Number(c),d=Number.isFinite(a)?a.toFixed(2):"50.00",l=Number.isFinite(i)?i.toFixed(2):"50.00",u=document.querySelector('.acf-field-number[data-name="focal_point_x"] input'),r=document.querySelector('.acf-field-number[data-name="focal_point_y"] input');u&&r&&(u.value=d,r.value=l,u.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("input",{bubbles:!0}))),o("core/block-editor").updateBlockAttributes(e,{data:{...t.data,focal_point_x:d,focal_point_y:l}})})(t,c,d,l)},150);i.addEventListener("click",r),i.dataset.focusAttached="true"},500):console.warn("No background image found.")})(e))})};document.addEventListener("DOMContentLoaded",()=>{acf.add_action("ready",()=>{new Promise(o=>{const n=e(()=>{t("core/block-editor").getBlockCount()>0&&(n(),o())})}).then(i)})})}();