!function(){"use strict";const e=()=>{const e=select("core/block-editor").getSelectedBlock();if(!e||"acf/dgwltd-hero"!==e.name)return void console.warn("Selected block is not the hero block.");const{clientId:t,attributes:o}=e;if(!o||!o.data)return void console.warn("No ACF data found in the selected block.");const{background_image:n,focal_point_x:c,focal_point_y:d}=o.data;if(!n)return void console.warn("No background image found for this block.");const i=(e,n)=>{const c=document.querySelector(".focus-dot"),d=document.querySelector('.acf-field-number[data-name="focal_point_x"] input'),i=document.querySelector('.acf-field-number[data-name="focal_point_y"] input');c&&(c.style.left=`${e}%`,c.style.top=`${n}%`),d&&i?(d.value=e.toFixed(2),i.value=n.toFixed(2),d.dispatchEvent(new Event("input",{bubbles:!0})),i.dispatchEvent(new Event("input",{bubbles:!0})),console.log(`Updated Focal Point X: ${e.toFixed(2)}%`),console.log(`Updated Focal Point Y: ${n.toFixed(2)}%`)):console.warn("Could not find ACF focal point input fields."),dispatch("core/block-editor").updateBlockAttributes(t,{data:{...o.data,focal_point_x:e.toFixed(2),focal_point_y:n.toFixed(2)}}),console.log("Updated ACF Focal Points in Block:",{focal_point_x:e.toFixed(2),focal_point_y:n.toFixed(2)})};setTimeout((()=>{const e=document.querySelector('.acf-field-image[data-name="background_image"] .image-wrap'),t=e?e.querySelector("img"):null;if(!t||!e)return void console.warn("Could not find the background image in the ACF sidebar field.");console.log("Background Image Found in Sidebar:",t);let o=e.querySelector(".focus-dot");if(o||(o=document.createElement("div"),o.classList.add("focus-dot"),e.appendChild(o)),i(c,d),"true"===t.dataset.eventAttached)return void console.log("Event listener already attached, skipping...");const n=function(e){let t;return function(...o){clearTimeout(t),t=setTimeout((()=>e.apply(this,o)),150)}}((e=>{const t=e.target.getBoundingClientRect(),o=e.clientX-t.left,n=e.clientY-t.top,c=o/t.width*100,d=n/t.height*100;i(c,d)}));t.addEventListener("click",n),t.dataset.eventAttached="true",console.log("Click event attached to background image in sidebar.")}),500)};document.addEventListener("DOMContentLoaded",(function(){acf.add_action("ready",(function(){new Promise((e=>{const t=subscribe((()=>{select("core/block-editor").getBlockCount()>0&&(t(),e())}))})).then((()=>{!function(){let t=null;subscribe((()=>{const o=select("core/block-editor").getSelectedBlock();if(t&&"acf/dgwltd-hero"===t.name&&(!o||"acf/dgwltd-hero"!==o.name)){const e=document.querySelector(".focus-dot");e&&(e.style.display="none")}if(o&&"acf/dgwltd-hero"===o.name&&o!==t){console.log("Hero block selected:",o),e();const t=document.querySelector(".focus-dot");t&&(t.style.display="block")}t=o}))}()}))}))}))}();