(()=>{"use strict";const e=window.wp.i18n,t=window.wp.blocks,n=window.wp.data,r=window.wp.editPost;wp.features.register("dgwltd-plugin/banner",{id:"dgwltd-plugin/banner",name:(0,e.__)("DGW.ltd Banner"),description:(0,e.__)("Insert a banner block"),type:"tool",location:"client",categories:["dgwltd","editor","blocks","patterns"],is_eligible:r.isInEditor,input_schema:{type:"object",properties:{lede:{type:"string",description:(0,e.__)("Lede text (H3 heading).","dgwltd")},title:{type:"string",description:(0,e.__)("Main title text (H2 heading).","dgwltd")},content:{type:"string",description:(0,e.__)("Paragraph content.","dgwltd")}},required:["title"]},output_schema:{type:"object",properties:{success:{type:"boolean"},blockType:{type:"string"}},required:["success","blockType"]},callback:e=>{if(console.log("Banner feature called with args:",e),!e||"string"!=typeof e.title||""===e.title.trim())throw new Error("Title is required for content pattern.");try{const r=[];if(e.lede&&e.lede.trim()&&r.push((0,t.createBlock)("core/heading",{level:3,content:e.lede.trim()})),r.push((0,t.createBlock)("core/heading",{level:2,content:e.title.trim()})),e.content&&e.content.trim()){const n=e.content.replace(/\\n/g,"\n").replace(/\n/g,"<br>");r.push((0,t.createBlock)("core/paragraph",{content:n}))}if(0===r.length)throw new Error("No blocks created for content pattern.");return(0,n.dispatch)("core/block-editor").insertBlocks(r),console.log(`Content pattern inserted successfully: ${r.length} blocks`),{success:!0,blockType:"content-pattern",blocksInserted:r.length,message:`Content pattern with ${r.length} blocks has been inserted successfully.`}}catch(e){throw console.error("Error inserting content pattern:",e),new Error(`Failed to insert content pattern: ${e instanceof Error?e.message:String(e)}`)}}}),wp.features.get().map((({id:e,name:t,description:n,input_schema:r})=>({id:e,name:t,description:n,parameters:r,execute:async t=>await wp.features.run(e,t)})))})();